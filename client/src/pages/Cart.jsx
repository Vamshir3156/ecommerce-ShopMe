import { useSelector, useDispatch } from 'react-redux'
import { Link } from 'react-router-dom'
import { removeFromCart, updateQty } from '../store/slices/cartSlice'
export default function Cart(){ const items=useSelector(s=>s.cart.items); const d=useDispatch(); const subtotal=items.reduce((a,c)=>a+c.price*c.qty,0); return (<div className='card'><h2 className='text-xl font-bold mb-4'>Your Cart</h2>{items.length===0? <p>Your cart is empty.</p> : (<div className='space-y-4'>{items.map(i=>(<div key={i.id} className='flex items-center justify-between gap-4'><div className='flex-1'><p className='font-medium'>{i.title}</p><p className='text-sm text-gray-500'>${i.price.toFixed(2)}</p></div><input type='number' min='1' className='w-16 border rounded px-2 py-1' value={i.qty} onChange={e=>d(updateQty({id:i.id, qty:Number(e.target.value)}))}/><button className='btn' onClick={()=>d(removeFromCart(i.id))}>Remove</button></div>))}<div className='flex items-center justify-between pt-4 border-t'><p className='font-bold'>Subtotal</p><p className='text-lg font-black'>${subtotal.toFixed(2)}</p></div><Link to='/checkout' className='btn btn-primary w-full text-center'>Checkout</Link></div>)}</div>) }
